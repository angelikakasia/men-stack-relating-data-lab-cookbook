<%- include('../partials/_navbar.ejs') %>

<h1>Edit Recipe</h1>

<form method="POST" action="/recipes/<%= recipe._id %>?_method=PUT">
  <input type="text" name="name" value="<%= recipe.name %>" required />

  <textarea name="instructions"><%= recipe.instructions %></textarea>

  <h3>Select Ingredients:</h3>
  <% ingredients.forEach(i => { %>
    <label>
      <input
        type="checkbox"
        name="ingredients"
        value="<%= i._id %>"
        <%= recipe.ingredients.includes(i._id) ? "checked" : "" %> />
      <%= i.name %>
    </label><br>
  <% }) %>

  <button>Update Recipe</button>
</form>
